//-----------------------------------------------------------------------------------
// GLOBAL VARIABLE
//-----------------------------------------------------------------------------------

int irlValue = 0;

//-----------------------------------------------------------------------------------
// BASIC FUNCTION
//-----------------------------------------------------------------------------------

void initIRL() {
  irlValue = 0;
  pinMode(IRL_PIN, OUTPUT);
  updateIRL();
}

void updateIRL() {
  analogWrite(IRL_PIN, irlValue);
}

void changeIRL(int16_t v) {
  irlValue = v & 1023;
}

//-----------------------------------------------------------------------------------
// DATAGRAM FUNCTIONS
//-----------------------------------------------------------------------------------

void setIRL(uint16_t addr) {
  changeIRL(_DIN[addr] << 8 | _DIN[addr+1]);
}
